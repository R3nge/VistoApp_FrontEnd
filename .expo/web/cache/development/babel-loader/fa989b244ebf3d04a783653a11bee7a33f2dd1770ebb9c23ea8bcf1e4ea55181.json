{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useNavigation } from '@react-navigation/native';\nimport LoginButton from \"../../components/mainButton\";\nimport FormInput from \"../../components/formInput\";\nimport { showMessage } from 'react-native-flash-message';\nimport loginRoute from \"./login.controller\";\nimport styles from \"./login.styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    mailValue = _useState2[0],\n    setMailValue = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    passwordValue = _useState4[0],\n    setPasswordValue = _useState4[1];\n  var navigation = useNavigation();\n  var notify = function notify(errorMessage) {\n    showMessage({\n      message: errorMessage,\n      type: 'danger',\n      duration: 5000,\n      position: 'top'\n    });\n  };\n  var handleUserChange = function handleUserChange(value) {\n    setMailValue(value);\n  };\n  var handlePasswordChange = function handlePasswordChange(value) {\n    setPasswordValue(value);\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(View, {\n      style: styles.containerForm,\n      children: [_jsxs(View, {\n        style: styles.formTitle,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"Fazer Login\"\n        }), _jsx(Text, {\n          style: styles.subtitle,\n          children: \"Insira seus dados para continuar\"\n        })]\n      }), _jsxs(View, {\n        style: styles.form,\n        children: [_jsx(FormInput, {\n          placeholder: \"Digite seu email\",\n          secureTextEntry: false,\n          onChangeText: handleUserChange\n        }), _jsx(FormInput, {\n          placeholder: \"Digite sua senha\",\n          secureTextEntry: true,\n          onChangeText: handlePasswordChange\n        }), _jsx(LoginButton, {\n          textBtn: \"Login\",\n          onPress: _asyncToGenerator(function* () {\n            console.log('Before navigation:', mailValue, passwordValue);\n            var loginSuccess = yield loginRoute(mailValue, passwordValue);\n            console.log('After login route:', loginSuccess);\n            if (loginSuccess) {\n              console.log('Navigating to Tabs');\n              navigation.navigate('Tabs');\n            } else {\n              console.log('Login failed');\n              notify('Usuário ou senha incorretos');\n            }\n          })\n        })]\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","useNavigation","LoginButton","FormInput","showMessage","loginRoute","styles","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","mailValue","setMailValue","_useState3","_useState4","passwordValue","setPasswordValue","navigation","notify","errorMessage","message","type","duration","position","handleUserChange","value","handlePasswordChange","style","container","children","containerForm","formTitle","title","subtitle","form","placeholder","secureTextEntry","onChangeText","textBtn","onPress","_asyncToGenerator","console","log","loginSuccess","navigate"],"sources":["C:/Users/Pichau/Desktop/Computação/Visto-App/Front-end NOVO/VistoApp_FrontEnd/src/pages/login/login.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport LoginButton from '../../components/mainButton';\r\nimport FormInput from '../../components/formInput';\r\nimport { showMessage } from 'react-native-flash-message';\r\nimport loginRoute from './login.controller';\r\nimport styles from './login.styles';\r\n\r\nexport default function Login() {\r\n    const [mailValue, setMailValue] = useState('');\r\n    const [passwordValue, setPasswordValue] = useState('');\r\n    const navigation: any = useNavigation();\r\n\r\n    const notify = (errorMessage: string) => {\r\n        showMessage({\r\n            message: errorMessage,\r\n            type: 'danger',\r\n            duration: 5000,\r\n            position: 'top',\r\n        });\r\n    };\r\n\r\n    const handleUserChange = (value: string) => {\r\n        setMailValue(value);\r\n    };\r\n\r\n    const handlePasswordChange = (value: string) => {\r\n        setPasswordValue(value);\r\n    };\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.containerForm}>\r\n                <View style={styles.formTitle}>\r\n                    <Text style={styles.title}>Fazer Login</Text>\r\n                    <Text style={styles.subtitle}>Insira seus dados para continuar</Text>\r\n                </View>\r\n                <View style={styles.form}>\r\n                    <FormInput\r\n                        placeholder=\"Digite seu email\"\r\n                        secureTextEntry={false}\r\n                        onChangeText={handleUserChange}\r\n                    />\r\n                    <FormInput\r\n                        placeholder=\"Digite sua senha\"\r\n                        secureTextEntry={true}\r\n                        onChangeText={handlePasswordChange}\r\n                    />\r\n                    <LoginButton\r\n                        textBtn=\"Login\"\r\n                        onPress={async () => {\r\n                            console.log('Before navigation:', mailValue, passwordValue);\r\n                            const loginSuccess = await loginRoute(mailValue, passwordValue);\r\n                            console.log('After login route:', loginSuccess);\r\n\r\n                            if (loginSuccess) {\r\n                                console.log('Navigating to Tabs');\r\n                                navigation.navigate('Tabs');\r\n                            } else {\r\n                                console.log('Login failed');\r\n                                notify('Usuário ou senha incorretos');\r\n                            }\r\n                        }}\r\n                    />\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}