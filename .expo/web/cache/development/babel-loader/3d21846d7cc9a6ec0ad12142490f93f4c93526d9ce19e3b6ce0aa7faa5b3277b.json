{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { api, isAxiosError } from \"../../axiosConfig\";\nvar loginRoute = function () {\n  var _ref = _asyncToGenerator(function* (email, password) {\n    try {\n      var response = yield api.post(\"/User/Login\", {\n        email: email,\n        password: password\n      });\n      var jwt = response == null ? void 0 : response.data.jwt;\n      yield AsyncStorage.setItem(\"token\", jwt);\n      return true;\n    } catch (err) {\n      if (isAxiosError(err)) {\n        var _err$response;\n        console.error(\"Axios error:\", err);\n        console.error(\"Response data:\", (_err$response = err.response) == null ? void 0 : _err$response.data);\n        console.error(\"Request config:\", err.config);\n      } else {\n        console.error(\"Non-Axios error:\", err);\n      }\n    }\n    return false;\n  });\n  return function loginRoute(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default loginRoute;","map":{"version":3,"names":["AsyncStorage","api","isAxiosError","loginRoute","_ref","_asyncToGenerator","email","password","response","post","jwt","data","setItem","err","_err$response","console","error","config","_x","_x2","apply","arguments"],"sources":["C:/Users/Pichau/Desktop/Computação/Visto-App/Front-end NOVO/VistoApp_FrontEnd/src/pages/login/login.controller.tsx"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { api, isAxiosError } from \"../../axiosConfig\";\r\n\r\nconst loginRoute = async (\r\n  email: string,\r\n  password: string\r\n): Promise<boolean> => {\r\n  try {\r\n    const response = await api.post(\"/User/Login\", { email, password });\r\n    const jwt = response?.data.jwt;\r\n\r\n    await AsyncStorage.setItem(\"token\", jwt);\r\n    return true;\r\n  } catch (err) {\r\n    if (isAxiosError(err)) {\r\n      console.error(\"Axios error:\", err);\r\n      console.error(\"Response data:\", err.response?.data);\r\n      console.error(\"Request config:\", err.config);\r\n    } else {\r\n      console.error(\"Non-Axios error:\", err);\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport default loginRoute;"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,SAASC,GAAG,EAAEC,YAAY;AAE1B,IAAMC,UAAU;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WACjBC,KAAa,EACbC,QAAgB,EACK;IACrB,IAAI;MACF,IAAMC,QAAQ,SAASP,GAAG,CAACQ,IAAI,CAAC,aAAa,EAAE;QAAEH,KAAK,EAALA,KAAK;QAAEC,QAAQ,EAARA;MAAS,CAAC,CAAC;MACnE,IAAMG,GAAG,GAAGF,QAAQ,oBAARA,QAAQ,CAAEG,IAAI,CAACD,GAAG;MAE9B,MAAMV,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEF,GAAG,CAAC;MACxC,OAAO,IAAI;IACb,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZ,IAAIX,YAAY,CAACW,GAAG,CAAC,EAAE;QAAA,IAAAC,aAAA;QACrBC,OAAO,CAACC,KAAK,CAAC,cAAc,EAAEH,GAAG,CAAC;QAClCE,OAAO,CAACC,KAAK,CAAC,gBAAgB,GAAAF,aAAA,GAAED,GAAG,CAACL,QAAQ,qBAAZM,aAAA,CAAcH,IAAI,CAAC;QACnDI,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEH,GAAG,CAACI,MAAM,CAAC;MAC9C,CAAC,MAAM;QACLF,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEH,GAAG,CAAC;MACxC;IACF;IACA,OAAO,KAAK;EACd,CAAC;EAAA,gBApBKV,UAAUA,CAAAe,EAAA,EAAAC,GAAA;IAAA,OAAAf,IAAA,CAAAgB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAoBf;AAED,eAAelB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}